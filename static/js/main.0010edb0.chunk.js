(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__6nkTw"}},129:function(e,t,n){},13:function(e,t,n){e.exports={item:"Navbar_item__xov82",active:"Navbar_active__Emcac"}},130:function(e,t,n){},156:function(e,t,n){},18:function(e,t,n){e.exports={wrapper_user:"Users_wrapper_user__5KpAw",avatar:"Users_avatar__1xCRw",avatar_button:"Users_avatar_button__3aZ1C",button_wrapper:"Users_button_wrapper__3eNXm",description:"Users_description__2vsI9",spanPageNumber:"Users_spanPageNumber__k_2eh",selectedPage:"Users_selectedPage__28CHT",spanPagesName:"Users_spanPagesName__2u_69"}},242:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);n(156);var s,a,r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))},i=n(8),c=n(38),o=n(5),u=n(124),l=n.n(u).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"941c5469-5622-4ccf-b6fe-38f424109ae0"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(s||(s={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}));var d=function(e,t){return l.get("/users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},j=function(e){return l.delete("/follow/".concat(e)).then((function(e){return e.data}))},b=function(e){return l.post("/follow/".concat(e)).then((function(e){return e.data}))},f=function(e){return l.get("/profile/".concat(e)).then((function(e){return e.data}))},p=function(e){return l.get("/profile/status/".concat(e)).then((function(e){return e.data}))},h=function(e){return l.put("/profile/status",{status:e}).then((function(e){return e.data}))},m=function(){return l.get("/auth/me").then((function(e){return e.data}))},g=function(e,t,n){return l.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},O=function(){return l.delete("/auth/login").then((function(e){return e.data}))},v="FOLLOW_USER",x="UNFOLLOW_USER",_="SET_USERS",w="SET_CURRENT_PAGE",P="TOGGLE_IS_FETCHING",S="TOGGLE_IS_FOLLOWING_PROGRESS",N=function(e){return{type:P,isFetching:e}},C=function(e,t){return{type:S,isFetching:e,userId:t}},y={users:[],pageSize:20,totalUsersAmount:135,currentPage:1,isFetching:!1,followingInProgress:[]},I="ADD-NEW-PROFILE-POST",U="SET_USER_PROFILE",M="SET_USER_STATUS",A=function(e){return{type:M,status:e}},k={posts:[{id:1,message:"Hi, my name is George and this is my first social network project",likeCounts:1e4},{id:2,message:"Hi there, I learned how to push props",likeCounts:45},{id:3,message:"Hi there, I learned map",likeCounts:666},{id:4,message:"Hi there, I learned filter",likeCounts:67}],userProfile:null,status:""},D="ADD-NEW-DIALOG-MESSAGE",F={dialogs:[{id:1,name:"George",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"},{id:2,name:"Paul",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"},{id:3,name:"Natasha",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your wellness?"},{id:3,message:"Where do you go?"}]},E={friends:[{id:1,name:"Elena",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"},{id:2,name:"Dima",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"},{id:3,name:"Olga",avatar:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"}]},L=n(33),T="SET_AUTH_USER_DATA",z=function(e){return{type:T,data:e}},H={userId:null,email:null,login:null,isAuth:!1},G=function(){return function(e){return m().then((function(t){if(t.resultCode===s.Success){var n=t.data,a=n.id,r=n.email,i=n.login;e(z({userId:a,email:r,login:i,isAuth:!0}))}}))}},R=n(125),B=n(123),q="INITIALIZED_SUCCESS",W={initialized:!1},V=Object(i.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var n={id:100*Math.random(),message:t.message,likeCounts:0};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case U:return Object(o.a)(Object(o.a)({},e),{},{userProfile:t.userProfile});case M:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});default:return e}},dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:var n={id:100*Math.random(),message:t.message};return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),[n])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case x:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case _:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case w:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.page});case P:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case S:return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(o.a)(Object(o.a)({},e),t.data);default:return e}},form:B.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}}}),X=Object(i.e)(V,Object(i.a)(R.a));window.store=X;var Y=X,Z=n(56),K=n.n(Z),J=n(11),Q=n(9),$=n(21),ee=n(22),te=n(24),ne=n(23),se=n(1),ae=n.n(se),re=(n(242),n(10)),ie=n(0),ce=function(){return Object(ie.jsx)("div",{children:"News"})},oe=function(){return Object(ie.jsx)("div",{children:"Music"})},ue=function(){return Object(ie.jsx)("div",{children:"Settings"})},le=n(128),de=n.n(le),je=n(13),be=n.n(je),fe=function(){return Object(ie.jsxs)("nav",{className:be.a.nav,children:[Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/profile",activeClassName:be.a.active,children:"Profile"})}),Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/dialogs",activeClassName:be.a.active,children:"Messages"})}),Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/users",activeClassName:be.a.active,children:"Users"})}),Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/news",activeClassName:be.a.active,children:"News"})}),Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/music",activeClassName:be.a.active,children:"Music"})}),Object(ie.jsx)("div",{className:be.a.item,children:Object(ie.jsx)(J.b,{to:"/settings",activeClassName:be.a.active,children:"Settings"})})]})},pe=n(83),he=n.n(pe),me=n(84),ge=n.n(me),Oe=function(e){return Object(ie.jsx)("div",{className:ge.a.friend_info,children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:ge.a.friends_avatar,children:Object(ie.jsx)("img",{src:e.avatar,alt:"#"})}),Object(ie.jsx)("div",{children:e.name})]})})},ve=function(e){var t=e.sidebar.friends.map((function(e){return Object(ie.jsx)(Oe,{name:e.name,avatar:e.avatar},e.id)}));return Object(ie.jsxs)("div",{className:he.a.friends_bar,children:[Object(ie.jsx)("h2",{children:"FRIENDS"}),Object(ie.jsx)("div",{className:he.a.friends_info_wrapper,children:t})]})},xe=Object(Q.b)((function(e){return{sidebar:e.sidebar}}),(function(e){return{}}))(ve),_e=function(){return Object(ie.jsxs)("div",{className:de.a.sidebar,children:[Object(ie.jsx)(fe,{}),Object(ie.jsx)(xe,{})]})},we=n(60),Pe=n.n(we),Se=n(85),Ne=n.n(Se),Ce=function(e){return Object(ie.jsx)("div",{className:Ne.a.dialog,children:Object(ie.jsxs)(J.b,{to:"/dialogs/"+e.id,className:Ne.a.name,children:[Object(ie.jsx)("img",{src:e.avatar,alt:"#"}),e.name]})})},ye=n(129),Ie=n.n(ye),Ue=function(e){return Object(ie.jsx)("div",{children:Object(ie.jsx)("div",{className:Ie.a.message,children:e.message})})},Me=n(121),Ae=n(122),ke=n(59),De=n(39),Fe=n.n(De),Ee=function(e){return function(t){var n=t.meta,s=t.input,a=Object(ke.a)(t,["meta","input"]),r=n.touched&&n.error;return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"".concat(Fe.a.formsControl," ").concat(r?Fe.a.error:""),children:Object(ie.jsx)(e,Object(o.a)(Object(o.a)({},s),a))}),r&&Object(ie.jsx)("span",{className:Fe.a.error,children:n.error})]})}},Le=function(e){if(!e)return"Field is required"},Te=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ze=function(e){var t=e.dialogPage.dialogs.map((function(e){return Object(ie.jsx)(Ce,{id:e.id,name:e.name,avatar:e.avatar},e.id)})),n=e.dialogPage.messages.map((function(e){return Object(ie.jsx)(Ue,{id:e.id,message:e.message},e.id)}));return Object(ie.jsxs)("div",{className:Pe.a.dialogs,children:[Object(ie.jsx)("div",{className:Pe.a.dialog_items,children:t}),Object(ie.jsxs)("div",{className:Pe.a.messages,children:[n,Object(ie.jsx)(Re,{onSubmit:function(t){e.addNewDialogMessage(t.newDialogMessage)}})]})]})},He=Te(50),Ge=Ee("textarea"),Re=Object(Ae.a)({form:"DialogMessageForm"})((function(e){return Object(ie.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ie.jsx)(Me.a,{name:"newDialogMessage",component:Ge,validate:[Le,He]}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{children:"Send"})})]})})),Be=function(e){return{isAuth:e.auth.isAuth}};var qe=Object(i.d)(Object(Q.b)((function(e){return{dialogPage:e.dialogPage,isAuth:e.auth.isAuth}}),(function(e){return{addNewDialogMessage:function(t){e(function(e){return{type:D,message:e}}(t))}}})),(function(e){return Object(Q.b)(Be)((function(t){var n=t.isAuth,s=Object(ke.a)(t,["isAuth"]);return n?Object(ie.jsx)(e,Object(o.a)({},s)):Object(ie.jsx)(re.a,{to:"/login"})}))}))(ze),We=n(130),Ve=n.n(We),Xe=n(88),Ye=n.n(Xe),Ze=n.p+"static/media/preloader.4d3101de.svg",Ke=function(){return Object(ie.jsx)("div",{children:Object(ie.jsx)("img",{src:Ze,alt:"preloader"})})},Je=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateMode=function(){e.setState({editMode:!0})},e.deactivateMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onChangeHandler=function(t){e.setState({status:t.currentTarget.value})},e}return Object(ee.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{children:!this.state.editMode&&Object(ie.jsx)("span",{onDoubleClick:this.activateMode,children:this.props.status||"No status"})}),Object(ie.jsx)("div",{children:this.state.editMode&&Object(ie.jsx)("input",{autoFocus:!0,onChange:this.onChangeHandler,onBlur:this.deactivateMode,value:this.state.status})})]})}}]),n}(ae.a.Component),Qe=ae.a.memo((function(e){return e.userProfile?Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:Ye.a.background_image,children:Object(ie.jsx)("img",{src:"https://images.unsplash.com/photo-1596313072836-5b6bbce5780d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1616&q=80",alt:"street"})}),Object(ie.jsx)("div",{className:Ye.a.avatar,children:Object(ie.jsx)("img",{src:e.userProfile.photos.small?e.userProfile.photos.small:"",alt:"avatar"})}),Object(ie.jsx)(Je,{status:e.status,updateUserStatus:e.updateUserStatus})]}):Object(ie.jsx)(Ke,{})})),$e=n(89),et=n.n($e),tt=n(62),nt=n.n(tt),st=function(e){return Object(ie.jsxs)("div",{className:nt.a.post,children:[Object(ie.jsx)("div",{className:"".concat(nt.a.item," ").concat(nt.a.active),children:e.message}),Object(ie.jsx)("img",{src:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",alt:"woman"}),Object(ie.jsx)("div",{children:Object(ie.jsxs)("span",{children:[e.likeCounts," like"]})})]})},at=function(e){var t=e.profilePageState.posts.map((function(e){return Object(ie.jsx)(st,{id:e.id,message:e.message,likeCounts:e.likeCounts},e.id)}));return Object(ie.jsxs)("div",{className:et.a.post_wrapper,children:[Object(ie.jsx)("div",{children:"My posts"}),Object(ie.jsx)(ct,{onSubmit:function(t){e.addPost(t.newPostMessage)}}),Object(ie.jsx)("div",{className:et.a.posts,children:t})]})},rt=Te(10),it=Ee("textarea"),ct=Object(Ae.a)({form:"PostMessageForm"})((function(e){return Object(ie.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ie.jsx)("div",{children:Object(ie.jsx)(Me.a,{name:"newPostMessage",component:it,validate:[Le,rt],placeholder:"Enter new message"})}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{children:"Add"})})]})})),ot=Object(Q.b)((function(e){return{profilePageState:e.profilePage}}),(function(e){return{addPost:function(t){e(function(e){return{type:I,message:e}}(t))}}}))(at),ut=function(e){return Object(ie.jsxs)("div",{className:Ve.a.profile,children:[Object(ie.jsx)(Qe,{userProfile:e.userProfile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(ie.jsx)(ot,{})]})},lt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(this.props.authorizedUserId?e=this.props.authorizedUserId.toString():this.props.history.push("/login")),this.props.setUserProfileSuccess(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(ie.jsx)("div",{children:Object(ie.jsx)(ut,{userProfile:this.props.userProfile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})})}}]),n}(ae.a.Component),dt=Object(i.d)(re.f,Object(Q.b)((function(e){return{userProfile:e.profilePage.userProfile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfileSuccess:function(e){return function(t){f(e).then((function(e){t({type:U,userProfile:e})}))}},getUserStatus:function(e){return function(t){p(e).then((function(e){t(A(e))}))}},updateUserStatus:function(e){return function(t){h(e).then((function(n){n.resultCode===s.Success&&t(A(e))}))}}}))(lt),jt=n(90),bt=n.n(jt),ft=n.p+"static/media/nodejs.a02ab828.png",pt=function(e){e.userId,e.email;var t=e.isAuth,n=e.login,s=e.logout;return Object(ie.jsxs)("header",{className:bt.a.header,children:[Object(ie.jsx)("img",{src:ft,alt:"logo"}),Object(ie.jsx)("div",{className:bt.a.loginBlock,children:t?Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{children:n}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{onClick:s,children:"Log out"})})]}):Object(ie.jsx)(J.b,{to:"/login",children:"Login"})})]})},ht=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"render",value:function(){return Object(ie.jsx)(pt,Object(o.a)({},this.props))}}]),n}(ae.a.Component),mt=Object(Q.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,email:e.auth.email,userId:e.auth.userId}}),{logout:function(){return function(e){O().then((function(t){t.resultCode===s.Success&&e(z({userId:null,email:null,login:null,isAuth:!1}))}))}}})(ht),gt=Ee("input"),Ot=Object(Ae.a)({form:"login"})((function(e){return Object(ie.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ie.jsx)("div",{children:Object(ie.jsx)(Me.a,{placeholder:"login",name:"login",component:gt,validate:[Le]})}),Object(ie.jsx)("div",{children:Object(ie.jsx)(Me.a,{placeholder:"password",name:"password",component:gt,validate:[Le]})}),Object(ie.jsx)("div",{children:Object(ie.jsx)(Me.a,{type:"checkbox",name:"rememberMe",component:gt})}),e.error&&Object(ie.jsx)("div",{className:Fe.a.resultError,children:e.error}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{children:"Login"})})]})})),vt=Object(Q.b)(null,{loginMe:function(e,t,n){return function(a){g(e,t,n).then((function(e){if(e.resultCode===s.Success)a(G());else if(e.messages.length>0){var t=e.messages[0];a(Object(L.a)("login",{_error:t}))}}))}}})((function(e){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("h1",{children:"Login"}),Object(ie.jsx)(Ot,{onSubmit:function(t){e.loginMe(t.login,t.password,t.rememberMe)}})]})})),xt=n(18),_t=n.n(xt),wt=n(285),Pt=ae.a.memo((function(e){console.log("User");var t=e.id,n=e.photos,s=e.name,a=e.status,r=e.followed,i=e.followingInProgress,c=e.followSuccess,o=e.unFollowSuccess;return Object(ie.jsxs)("div",{className:_t.a.wrapper_user,children:[Object(ie.jsxs)("div",{className:_t.a.avatar_button,children:[Object(ie.jsx)("div",{className:_t.a.avatar,children:Object(ie.jsx)(J.b,{to:"/profile/"+t,children:Object(ie.jsx)("img",{src:null!==n.small?n.small:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png"})})}),Object(ie.jsx)("div",{className:_t.a.button_wrapper,children:r?Object(ie.jsx)("button",{disabled:i.some((function(e){return e===t})),onClick:function(){o(t)},children:" Unfollow "}):Object(ie.jsx)("button",{disabled:i.some((function(e){return e===t})),onClick:function(){c(t)},children:" Follow "})})]}),Object(ie.jsxs)("div",{className:_t.a.description,children:[Object(ie.jsx)("div",{children:s}),Object(ie.jsx)("div",{children:a||"Status not find"})]})]})})),St=function(e){for(var t=Math.ceil(e.totalUsersAmount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:_t.a.spanPagesName,children:"Pages: "}),n.map((function(t){return Object(ie.jsx)("span",{className:t===e.currentPage?"".concat(_t.a.selectedPage," ").concat(_t.a.spanPageNumber):_t.a.spanPageNumber,onClick:function(){return e.onPageChanged(t)},children:t},Object(wt.a)())})),e.users.map((function(t){return Object(ie.jsx)(Pt,{id:t.id,photos:t.photos,name:t.name,status:t.status,followed:t.followed,followingInProgress:e.followingInProgress,followSuccess:e.followSuccess,unFollowSuccess:e.unFollowSuccess},t.id)}))]})},Nt=function(e){return e.usersPage.users},Ct=function(e){return e.usersPage.pageSize},yt=function(e){return e.usersPage.totalUsersAmount},It=function(e){return e.usersPage.isFetching},Ut=function(e){return e.usersPage.currentPage},Mt=function(e){return e.usersPage.followingInProgress},At=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(t,e.props.pageSize)},e}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(ie.jsx)(ae.a.Fragment,{children:this.props.isFetching?Object(ie.jsx)(Ke,{}):Object(ie.jsx)(St,{users:this.props.users,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalUsersAmount:this.props.totalUsersAmount,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,followSuccess:this.props.followSuccess,unFollowSuccess:this.props.unFollowSuccess})})}}]),n}(ae.a.Component),kt=Object(Q.b)((function(e){return{users:Nt(e),currentPage:Ut(e),pageSize:Ct(e),totalUsersAmount:yt(e),isFetching:It(e),followingInProgress:Mt(e)}}),{setCurrentPage:function(e){return{type:w,page:e}},requestUsers:function(e,t){return function(n){n(N(!0)),d(e,t).then((function(e){var t;n((t=e.items,{type:_,users:t})),n(N(!1))}))}},followSuccess:function(e){return function(t){t(C(!0,e)),b(e).then((function(n){n.resultCode===s.Success&&t({type:v,userID:e}),t(C(!1,e))}))}},unFollowSuccess:function(e){return function(t){t(C(!0,e)),j(e).then((function(n){n.resultCode===s.Success&&t({type:x,userID:e}),t(C(!1,e))}))}}})(At),Dt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?Object(ie.jsxs)("div",{className:"app-wrapper",children:[Object(ie.jsx)(mt,{}),Object(ie.jsx)(_e,{}),Object(ie.jsxs)("div",{className:"app-wrapper-content",children:[Object(ie.jsx)(re.b,{path:"/",exact:!0,render:function(){return Object(ie.jsx)(re.a,{to:"/profile"})}}),Object(ie.jsx)(re.b,{path:"/dialogs",render:function(){return Object(ie.jsx)(qe,{})}}),Object(ie.jsx)(re.b,{path:"/profile/:userId?",render:function(){return Object(ie.jsx)(dt,{})}}),Object(ie.jsx)(re.b,{path:"/users",render:function(){return Object(ie.jsx)(kt,{})}}),Object(ie.jsx)(re.b,{path:"/login",render:function(){return Object(ie.jsx)(vt,{})}}),Object(ie.jsx)(re.b,{path:"/news",render:function(){return Object(ie.jsx)(ce,{})}}),Object(ie.jsx)(re.b,{path:"/music",component:oe}),Object(ie.jsx)(re.b,{path:"/settings",component:ue})]})]}):Object(ie.jsx)(Ke,{})}}]),n}(ae.a.Component),Ft=Object(i.d)(re.f,Object(Q.b)((function(e){return{initialize:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(G());Promise.all([t]).then((function(){e({type:q})}))}}}))(Dt);K.a.render(Object(ie.jsx)(J.a,{children:Object(ie.jsx)(Q.a,{store:Y,children:Object(ie.jsx)(Ft,{})})}),document.getElementById("root")),r()},39:function(e,t,n){e.exports={formsControl:"FormsControls_formsControl__25irS",error:"FormsControls_error__1fQeM",resultError:"FormsControls_resultError__DAotX"}},60:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__y2bjf",dialog_items:"Dialogs_dialog_items__3jMoA",messages:"Dialogs_messages__3r7q9"}},62:function(e,t,n){e.exports={item:"Post_item__2m-Dy",active:"Post_active__2uU_Z",post:"Post_post__1ODuq"}},83:function(e,t,n){e.exports={friends_bar:"FriendsBar_friends_bar__2VewV",friends_info_wrapper:"FriendsBar_friends_info_wrapper__1LZd3"}},84:function(e,t,n){e.exports={friends_avatar:"FriendInfo_friends_avatar__Gnkbt"}},85:function(e,t,n){e.exports={dialog:"DialogItem_dialog__f39Su",name:"DialogItem_name__1MYCL"}},88:function(e,t,n){e.exports={background_image:"ProfileInfo_background_image__1N_TX",avatar:"ProfileInfo_avatar__KoSC-"}},89:function(e,t,n){e.exports={post_wrapper:"MyPosts_post_wrapper__vzWi1"}},90:function(e,t,n){e.exports={header:"Header_header__2-jkd",loginBlock:"Header_loginBlock__3idvV"}}},[[283,1,2]]]);
//# sourceMappingURL=main.0010edb0.chunk.js.map